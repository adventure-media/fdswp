=== Event Tickets with Ticket Scanner ===
Contributors: Saso Nikolov
Tags: events, party tickets, ticket scanner, redeem tickets, woocommerce, venue tickets
Requires PHP: 7.0
Stable tag: 1.4.7
Tested up to: 6.2
License: GPLv3
License URI: https://www.gnu.org/licenses/gpl-3.0.html

Sell tickets for your event or party with WooCommerce. Scan the tickets at the entrance.
You can scan the tickets of your customer from the QR code on their mobile devices or the printed PDF ticket.

== Description ==
Selling event or party tickets and redeeming the tickets was never so easy.
https://youtu.be/lqY6Yh6CHJ4
[Quick start video](https://youtu.be/lqY6Yh6CHJ4)

Sell tickets for your event or party and redeem the ticket at the entrance with the free Tickets with WooCommerce plugin, from the team behind the Serial Code Validator in WordPress.

You can make your tickets look unique by adding a banner, logo and background image. The same applies also for the event or party flyer.

This plugin makes it easy to sell tickets and redeem them at the event location entrance for you in-person or virtual events. Easily integrate event tickets with your WooCommerce products.

Install the plugin and set your products to be a event ticket product. That's it.

The plugin will generate a secure ticket number and add them to the mail to your clients. It will also generate a PDF with the ticket information and QR code. The built-in ticket scanner allows you and your team to redeem the tickets by scanning the QR-code. You can also use an external keyboard scanner by using the text input field on the ticket scanner page.

You can even import your own ticket numbers, but it will generate them also on the fly. The freedom is in your hands.

**Shop:** Sell event and party tickets with your normal products. The plugin will create the ticket number on the fly or use unused ticket numbers from your ticket number list for each sold item.

**Validation of ticket numbers:** You customer can validate a ticket number on your page. The ticket number generator gives you a flexible pattern to generate ticket numbers upfront. You can also **import your existing codes**.

**Validation of tickets:** You customer will get a link to a detail page and a PDF for each sold ticket.

**Build your own stolen ticket number database:** Support your customer and yourself to protect stolen ticket numbers to be sold or used to others. Mark reported ticket numbers as stolen and let others check the ticket numbers with the ticket number validator.

**How can you setup the ticket numbers?**
The ticket numbers will be generated by the plugin automatically, if you do not set up ticket numbers upfront.
You can enter your ticket numbers within the WP admin area in the ticket number section (a new menu point in the wordpress amdin area).
You can generate your own ticket numbers manually using the ticket number generator or import existing ticket numbers.
And you are also able to add your own ticket numbers by just entering them to the generated ticket numbers below the ticket number generator.
If needed you can assign the ticket (numbers) to a list which helps you to organize the tickets. The ticket list need to be assigned to a WooCommerce product.
Create one or more ticket lists to use the WooCommerce functionality.

**How the ticket number works**
You define your look and feel for your ticket numbers. The generated ticket numbers will be unique. After you are satisfied with the generated ticket numbers, you can start the adding step.
The ticket adding step will check if the ticket number is unique on the server before adding it.
If the ticket number exists already on the server, it will not be added.

= The ticket number generator provides a lot of features: =
- Ticket number prefix - you can enter a fixed prefix to each ticket number
- Length of ticket number
- Only letters
- Uppercase, Lowercase or both
- Exclusion of letters that are easy to missread (i,l,o,q,p)
- Delimiter possible: [None, -, :, SPACE] - you decide after how many letters within the ticket number
- CVV code generation (only numbers)

Yes, this is a fork of the serial code validator plugin. We decided to make it an own plugin out of it. So to add more and more features that are not related to serial codes but to event tickets.

== Features ==
At the bottom of this page you will find a complete list of all features.

https://youtu.be/ls_Lkf08n9I

* Sell event tickets as PDF with WooCommerce
* Download PDF of ticket to print it as a badge for your customers
* Attach your own PDF to the ticket PDF (will be added as additional pages)
* Also for professional usage - use your QR and barcode scanner to verify the tickets
* Product variants supported
* Generate flyer for your party or event
* Redeem event tickets at the entrance using the included ticket scanner page (mobile ready)
* Add ICS calendar file or a ticket to the purhcase email and ticket detail page
* Store WooCommerce orderid, itemid and productid to a ticket that was generated or used for a product sale
* You can now set a unique ticket number format for all WooCommerce product that are using a ticket number
* You can now set the ticket number format directly also on the WooCommerce product detail page if needed
* Use your codes to restrict purchases that allow a purchase of this product only if the buyer has a code for it (purchase allowance code)
* Add your own messages for the ticket number validation form for your customers
* Add your own message for the "product stolen" validation message
* Disable the validation form for not logged in wordpress user
* User can register to a ticket (with the wordpress user id if needed) after the ticket number is checked - this makes your code one-time usable
* Display registered user information of a ticket number during the validation if you need this
* One time check can have a maximum check amount based on ticket list or based on the global settings
* The user can be forwared (redirected) to an URL after the ticket number was checked - to show more details
* Webhooks - you can inform other systems about ticket redeemed status and validation steps
* Display assigned tickets to your user with a shortcode [sasoEventTickets_code]
* Add images to the ticket (header, background and Footer)
* Adopt font size for the PDF ticket
* Forcing responsive design for the ticket scanner for better experience
* Allow multiple redeem times for multi usage tickets


== GETTING STARTED ==

A Quick start is shown in this [video](https://vollstart.de/event-tickets-with-ticket-scanner/docs/#quickstart).
A good first start is to open the event ticket admin area and create a list first, if not already done or if you do not want to use the default ticket list.
Go to your WooCommerce product and activate the ticket sale option and set the list.
Check out all the possible options in the event ticket admin area to understand, how to tweak your usages of plugin.
Optional: Then add your ticket number by importing (add button at the ticket table) or assign the ticket list to your products.
Optional: If you need a validation form for your users, to check the ticket number, then please add the shortcode **[sasoEventTicketsValidator]** to a page.

= Steps to start =
- Go to the admin area and click on menu "Event Tickets".
- Click on button "Add" next to the heading "List".
- Go to your "ticket" product and set the option with in the product settings "Event Tickets"
*To scan the QR code of the sold tickets at the entrance:*
- Go to the admin area and click on menu "Event Tickets".
- Click on the button "Ticket Scanner" at the top area
- Scan tickets and redeem them

== Premium Features ==
* Unlimited ticket numbers (the basic allows you 50 tickets)
* Unlimited Lists
* Save IP address of user using the ticket number validation check on your page
* De- and re-activate tickets
* Block IPs after x retries within 60 minutes - prevent brute force
* One time usage overuled by list settings
* Enter expiration date for tickets
* Enter expiration date for ticket number lists (ticket number overrule list expiration date)

Try it out first, before you go Premium. ["Here you can find the premium plugin"](https://vollstart.de/event-tickets-with-ticket-scanner).

== Build your own Stolen products database ==
You can set the status of a ticket number to be marked as stolen. This way you can offer your customers a way to report a stolen product. Other buyers of used products can validate the ticket number on your website and will be notified with a "Product is stolen" warning.
This could increase sales and help reducing theft of your products.
The check behaviour will be like "inactive codes" but with the stolen message. You can change the stolen message within the options area of the serial code admin.

== Protection with CVV ==
You can set a code verification value (CVV) to protect your tickets. The validation check will ask the user to enter both for a valid check.
That way you increase the security of your ticket numbers and prevent stealing the numbers (If you are able hide the CVV on your packaging).
If you use a CVV on a ticket number, then the user will be asked to enter this CVV too during the validation. If the CVV on your ticket number is not set or empty it will be ignored and your customer is not asked for it.

== Woocommerce support for auto-generating tickets ==
**Supports version 6+**
**You can use this plugin to auto-generate tickets and codes for your woocommerce products**
* Create a code list
* Go to your WooCommerce product and edit the product which should receive a ticket
* Go to your WooCommerce product and edit the product which should receive a code - if needed
* Click on "Event Tickets" in the attribute area of your product
* Choose the "List" that will be used for this product

Everytime this product is sold, it will get a new generated ticket number/code or use an unused one within your list (This need to be activated within the option settings). The new code will be added to the code list you set on your WooCommerce product and to the product sale too.
If the sold product quantity in the order is more than 1, then a ticket number/code will be generated for each element. The code will be generated after the purchase. In case of a refund the code will be recovered and marked as unused, so that it can be reused.

*E.g.: Your customer bought 2 of the same product within one order, then 2 tickets will be generated and stored to the product item within this order.*

= WooCommerce Ticket Features =
* Automatically create and assign tickets for physical products and digital products
* Recover tickets assigned to refunded orders
* Option to reuse the recovered tickets with the latest orders
* Automatically deliver the tickets with the complete order email
* Automatically a ticket as PDF for download and add the download link to the complete order email.
* Automatically deliver the tickets and download URL with the optional PDF invoice "WooCommerce PDF Invoices"
* Download a flyer for your event or party

= WooCommerce Code Features =
* Automatically create and assign codes for physical products and digital products
* Recover code assigned to refunded orders
* Option to reuse the recovered codes with the latest orders
* Automatically deliver the codes with the complete order email
* Automatically deliver the codes with the optional PDF invoice "WooCommerce PDF Invoices"

**Please note:**
If you exceed your limit (*no limits for premium user*) of the amount of possible tickets/codes, then the ticket/code added to the sold product will be a text information: **"Please contact our support for the code"**.
This way your business is not harmed and your customer can contact you to get a code manually. The format of the code will be **12345-12345-12345-12345** if you do not set a generation format within the options.

== WooCommerce PDF Invoices support to display the ticket numbers on the PDFs ==
If you use ["WooCommerce PDF Invoices"](https://en-gb.wordpress.org/plugins/woocommerce-pdf-invoices-packing-slips/), then the generated ticket numbers/codes are displayed on the generated PDFs too!
The supported PDF plugin is from Ewout Fernhout.

== WooCommer Ticket Sale ==
You can add a list to your product and sell tickets. The ticket will be added to the sale informations for you and your client.
The client will also have a link to check the ticket and mark the ticket as used, only if the order is set to completed. This will mark the ticket as redeemed.
You can check the entrance by letting your customer show the confirmation page and hit on the "redeem"-button.
Or you scan the QR code of the ticket with the ticket scanner (included). The ticket is also available as PDF for download to your customers.
[Checkout the video, how it works](https://vollstart.de/event-tickets-with-ticket-scanner/docs/#ticket)

== Frontend ==
We have different frontend elements. Just to sell tickets and scan them, you do not need to add any shortcodes to your pages.

= Frontend event tickets =
Your customer will receive a specific URL to the ticket detail page. You can control which information to display. additional they can download the ticket as a PDF.
The ticket will contain a QR code, that can be scanned by you or your team (no loggin to WordPress needed) and redeem the ticket.
[Watch the video for it](https://vollstart.de/event-tickets-with-ticket-scanner/docs/#quickstart)

= Frontent to validate the ticket number =
* Use the shortcode **[sasoEventTicketsValidator]**
* Create a page or use an existing one and add the shortcode to the page
* The shortcode will be replaced for your users by a form to enter the ticket number and a button to validate the ticket. This allows you to surround the form with your own heading and instruction.
* Each ticket number has a display version (e.g. XYZXYZ -> XYZ-XYZ), so it is easier for your user to read the ticket number.
* The check will remove the display delimiter "-", ":", " " for the check automatically.
* So your user can enter the ticket number with or without delimiters.

If you use CVV on a code and the user enter the ticket number that requires a cvv, then your user will be ask to enter the CVV.
The user could enter the CVV immediately with the code. Separate the value with a ":". E.g: XYZXYZ:1234.

It is possible to prefill the ticket number validation form with a ticket number.
Add the parameter "code" to your page URL to create a link that prefills the form.
*E.g https://vollstart.de/serial-codes/?code=123-456-789*

= Form options for expert =
You can use your own input, trigger and output HTML element.
Add the id parameter to your HTML elements and pass them to the shortcode as corresponding parameter.
You can add also your own JS function name that will be called before the ticket number is checked on the server and also if the result comes back.
*[sasoEventTicketsValidator inputid="" triggerid="" outputid="" jspre="" jsafter=""]*
[Read here more about this feature](https://vollstart.de/event-tickets-with-ticket-scanner/docs/#styling)

== Quick overview ==
Each ticket number is unique. The list is for your organisation and for your WooCommerce products.

= Plugin administration - where to find the plugin management area =
*It will add a new menu entry "Event Tickets" within the settings section.*

[More about the plugin on our website](https://vollstart.de/event-tickets-with-ticket-scanner/docs)

== Support ==
Write to support@vollstart.de for support request.
For both plugins: The basic free and for the premium plugin.
We are here to help you.

== Premium Features ==

The **premium plugin** is now available with a lifetime license and 1 year support.

= Your benefits =
- Unlimited Lists
- Unlimited Tickets
- Attach PDF tickets to the purchase email
- Assign tickets to existing WooCommerce orders
- See the redeemed ticket amount on the product detail view and on the ticket scanner
- Download the redeemed ticket logs
- Overwrite ticket banner, logo and background image on product level
- Save IP address of user using the ticket number validation check on your page
- De- and re-activate ticket number
- **Security:** Block IPs after x retries within 60 minutes - prevent brute force
- One time usage overuled by ticket list setting
- Enter expiration date for tickets
- Enter expiration date for ticket lists (individual tickets overrule list expiration date)
- User JS redirects on product level

**Checkout the premium plugin and planned features: [Event Tickets with WooCommerce Premium](https://vollstart.de/event-tickets-with-ticket-scanner/)**

= All available Options =

== Display options ==
-Your own date format
If left empty, default will be 'Y/m/d'. Using the php date function format. Y=year, m=month, d=day H:hours, i:minutes, s=seconds

-Your own time format
If left empty, default will be 'H:i'. Using the php date function format. H=hours with leading 0, i=minutes with leading zero, s=seconds

-Display a column with the information how often the ticket is redeemed
If active, then a new column within the admin area for each ticket will be shown with the redeem ticket information. This feature can be very slow.

-Display a column with the name of the buyer
If active, then a new column within the admin area for each ticket will be shown with the billing name. This feature can be very slow.


== Access ==
-Allow only specific roles access to the admin area
If active, then only the administrator and the choosen roles area allowed to access this admin area.

-Allow the specific role to access the backend of the event ticket
If a role is chosen, then the user with this role is allowed to access the event ticket admin area. This will not exclude the 'administrator', if the option is activated.


== Ticket scanner ==
-Allow the specific role to access the ticket scanner
If a role is chosen, then the user with this role is allowed to use the ticket scanner. This will not exclude the 'administrator', if the option is activated.

-Allow logged in user as adminstrator to open the ticket scanner
If active, only logged-in user can scan a ticket. It is also testing if the user is an administrator.

-Allow to redeem ticket only if it is paid
If active, only paid and not refunded or cancelled tickets can be redeemed by the ticket scanner. Normal users can anyway not redeem unpaid tickets by themself.

-Count each ticket scan with the ticket scanner as a confirmed status check
If active, each ticket scan will be counted treated as a confirmed validation check and increase the confirmed status check counter. Only if the ticket is active.

-Display confirmed status checks on the ticket scanner view
If active, the confirmed validation checks are displayed whith the retrieved ticket on the ticket scanner.

-Do not allow tickets to be redeemed before starting date
If active, the ticket can only be redeemed at the start date and during the event.

-How many hours before the event can the ticket be redeemed?
The hours will be subtracted from the starting time of the event. Only used if the option "wcTicketDontAllowRedeemTicketBeforeStart" is active.


== Woocommerce ticket sale ==
-Ticket detail URL path
If left empty, default will be using the default ticket detail page from within the plugin folder. On some installations this leads to a 403 problem. If the the default ticket detail view of the plugin is not working try to set the ticket detail URL path. Make sure that the URL path does not exists, otherwise the page will be shown instead of the ticket. Example of a URL path 'event-tickets/myticket' or 'event-tickets/ticket-details/'. Any leading and trailing slash '/' will be ignored.

-Compatibility mode for ticket URL
If your theme is showing the 404 title or the ticket is not rendered at all, then you can try to use this compatibility mode. If active, then the URL /ticket/XYZ will be /ticket/?code=XYZ URL for the link to the ticket detail and ticket PDF page. Some themes causing issues with the normal mode.

-Do not show the redeem button on the ticket for the client
If active, it will not add the self-redeem button on the ticket detail view.

-Text that will be added before the ticket number on the PDF invoice, order table and order details
If left empty, default will be 'Ticket number:'

-Hide the PDF download button on ticket detail page
If active, it will not display the PDF download button on the ticket detail view. But the PDF can still be generated with the URL.

-Hide the PDF download button/link on purchase order email
If active, it will not display the PDF download option on the purchase email to the client. But the PDF can still be generated with the URL.

-Hide the ticket detail page link on purchase order email
If active, it will not display the URL to the ticket detail page on the purchase email to the client.

-Text that will be added as the PDF Ticket download label
If left empty, default will be 'Download PDF Ticket' on the button and on the link within the purchase email.


== Ticket PDF settings ==
-Font size for text on the ticket PDF
Please choose a font size between 6pt and 16pt.

-Strip HTML from text
If you experience issues with the rendered PDF, then you can change the settings here to strip some not garanteed supported elements or choose even to display the HTML code (helps for debug purpose).

-Display product variant name
If active, the variant name(s) will be display below the title without its variant id. Just the variant value. If more than one variant is choosen, then the delimiter will be a blank space.

-Display the short description of the product on the ticket
If active, it will be printed on the ticket detail view.

-Display the customer note of the order on the ticket
If active, it will be printed on the ticket detail view.

-Hide the customer name and address on the ticket
If active, it will not print the customer information on the ticket detail view.

-Hide the payment method on the ticket
If active, it will not print the payment details on the ticket detail view.

-Display the purchased items of the order on the ticket
If active, it will print all the products of the order on the ticket. The ticket product will be excluded from the list.

-Display the quantity of the purchased item on the ticket.
If active, it will print the amount of the purchased tickets on the ticket.

-Display the ticket list name on the ticket.
If active, it will print the name of the ticket list.

-Display the ticket list description on the ticket.
If active, it will print the description of the ticket list on the ticket.

-Text that will be added to the PDF if the option 'Display the quantity of the purchased tickets' is activated.
If left empty, default will be '{TICKET_POSITION} of {TICKET_TOTAL_AMOUNT} Tickets'. {TICKET_POSITION} will be replaced with the position within the quantity of the item purchase. {TICKET_TOTAL_AMOUNT} will be replaced with the quantity of the purchased tickets for the order.

-Display the registered user value on the ticket.
If active, it will print the registered user value on the ticket. The value and the label for it are only displayed, if the registered user value is not empty.

-Hide your wordpress name
If active, it will not display the wordpress name.

-Hide your blog description
If active, it will not display the wordpress description.

-Hide your wordpress URL
If active, it will not display the wordpress URL.

-Display a small logo (max. 300x300px) at the bottom in the center
If a media file is chosen, the logo will be placed on the ticket PDF.

-Display a banner image image at the top of the PDF
If a media file is chosen, the banner will be placed on the ticket PDF.

-Display a background image image at the center of the PDF
If a media file is chosen, the image will be placed on the ticket PDF.


== Ticket Translations ==
-Ticket title
This is the title of the ticket

-Label 'EXPIRED' on the event date

-Label 'Location' heading on for the event location

-Label 'Customer' heading on the customer details

-Label 'Payment details' heading on the payment details

-Label 'Order paid at' on the payment details

-Label 'Order completed at' on the payment details

-Label 'Paid via' on the payment details

-Label 'Free ticket' on the payment details

-Label 'Coupon used' on the payment details
It will display which coupon was used.

-Label 'Ticket' for the ticket number

-Label 'Price' for the paid price

-Label 'Original price' for the ticket number

-Label 'Ticket redeemed' for the customer notice

-Label 'Redeemed at' for the customer notice

-Label 'Ticket valid' for the customer notice

-Label 'Refresh page' for the button

-Label 'Do you want to redeem the ticket?' for the question to your client

-Label 'Redeem Ticket' for the button to your client

-Label Error 'Ticket expired' for the customer notice

-Label Error 'Ticket is STOLEN' for the customer notice

-Label Error 'Ticket is not valid' for the customer notice

-Label Error 'Ticket number is wrong' for the customer notice

-Text for max redeem amount for the customer notice on the PDF ticket
This text will be added to the PDF ticket only if the ticket can be redeemed more than one time! Use the placeholder {MAX_REDEEM_AMOUNT} to display the amount.

-Text for redeemed amount for the customer notice on the ticket
This text will be added to the ticket scanner and ticket detail page view. Only if the ticket can be redeemed more than one time! Use the placeholders {REDEEMED_AMOUNT} and {MAX_REDEEM_AMOUNT} and to display the amounts.

-Label Error 'Ticket is not valid yet' for the customer notice
Will be shown on the ticket scanner, if the ticket is too early scanned.

-Label User registered value on the ticket
Will be shown on the ticket, if the corresponding ticket option is activated and the registered user value is not empty.


== Ticket Redirect ==
-Activate redirect the user after redeeming their own ticket.
If active, the user will be redirected to the URL your provide below.

-URL to redirect the user, if the ticket was redeemed.
The URL can be relative like '/page/' or absolute 'https//domain/url/'.
You can use these placeholder for your URL:
{USERID}: Will be replaced with the userid if the user is loggedin or empty
{CODE}: Will be replaced with the ticket number (without the delimiters)
{CODEDISPLAY}: Will be replaced with the ticket number (WITH the delimiters)
{IP}: The IP address of the user
{LIST}: Name of the list if assigned
{LIST_DESC}: Description of the assigned list


== Event Flyer ==
-Hide your wordpress name.
If active, it will not display the wordpress name.

-Hide your wordpress description.
If active, it will not display the wordpress description.

-Hide your wordpress URL.
If active, it will not display the wordpress URL.

-Hide your ticket price.
If active, the ticket price will not be displayed.

-Display a small logo (max. 300x300px) at the bottom in the center.
If a media file is choosen, the logo will be placed on the flyer.

-Display a banner image image at the top of the PDF.
If a media file is choosen, the banner will be placed on the flyer.

-Display a background image image at the center of the PDF.
If a media file is choosen, the image will be placed on the ticket flyer.


== Calendar file (ICS) ==
-Hide the ICS calendar file download button on ticket detail page
If active, it will not display the calendar file download button on the ticket detail view. It will be only shown if the ticket product has a starting date.

-Text that will be added as the ICS calendar file download label
If left empty, default will be "Download calendar file"

-Attach the ICS calendar file to the WooCommerce mails
If active, the ICS calendar file will be added as an attachment to the mails (order complete, customer note, customer invoice and processing order)

-Show the event date on purchase order email
If active and a date is set on the product, then it will display the date of the event on the purchase email to the client.

-Show the event date on the product detail page for your customer
If active and a date is set on the product, then it will display the date of the event on the product detail page to the client.

-Hide the event date on the ticket
If active the event date is not shown on the ticket.


== User profile ==
-Display registered ticket numbers within the user profile

-Display bought ticket numbers within the user profile


== Validator Form for ticket number check ==
-Your own check button label
If left empty, default will be 'Check'

-Your own input field placeholder text
If left empty, default will be 'XXYYYZZ'

-Your own background color of the button
If left empty, default will be '#007bff'

-Your own border color of the button
If left empty, default will be '#007bff'

-Your own text color of the button
If left empty, default will be 'white'


== Validation Messages ==
-Your own 'Ticket confirmed' message
If left empty, default will be 'Ticket confirmed'

-Your own 'Ticket not found' message
If left empty, default will be 'Ticket not found'

-Your own 'Ticket inactive' message
If left empty, default will be 'Please contact support for further investigation'

-Your own 'Ticket is already registered to a user' message
If left empty, default will be 'Is registered to a user'

-Your own 'Ticket expired' message
If left empty, default will be 'Ticket expired'

-Your own 'Ticket and CVV is not valid' message
If left empty, default will be 'Ticket and CVV is not valid'.

-Your own 'Ticket stolen' message
If left empty, default will be 'Ticket stolen'. You could set it to be more precise e.g.: 'The Ticket is reported as stolen'

-Your own 'Ticket is redeemed' message
If left empty, default will be 'Ticket is redeemed'


== Logged in user only ==
-Allow only logged in wordpress user to enter a ticket number for validation
If active and the user is not logged in, then the input fields will be disabled

-Your own 'Only for logged in user' message
If left empty, default will be 'You need to log in to use the ticket validator'


== User redirection ==
-Activate redirect the user after a valid ticket was found.
If active, the user will be redirected to the URL your provide below.

-Redirect already registered tickets and the user is the same.
If active, the user will be redirected to the URL your provide below, even if the ticket is registered already and user checking is the same user that is registered to the ticket. It will not be executed, if the 'one time usage restriction is active'. The user needs to be logged in for the system to recognize the user.

-URL to redirect the user, if the ticket is valid.
The URL can be relative like '/page/' or absolute 'https//domain/url/'.
You can use these placeholder for your URL:
{USERID}: Will be replaced with the userid if the user is loggedin or empty
{CODE}: Will be replaced with the ticket number (without the delimiters)
{CODEDISPLAY}: Will be replaced with the ticket number (WITH the delimiters)
{IP}: The IP address of the user
{LIST}: Name of the list if assigned
{LIST_DESC}: Description of the assigned list
More tags here


-Button label to click for the user to be redirected
Only if filled out, the button will be displayed. If you left this field empty, then the user will be redirected immediately if the ticket is valid, without a button to click.


== Webhooks ==
-Activate webhooks to call a service with the validation check.
If active, each validation request from a user will trigger an URL from the server side to another URL. Be carefull. This could slow down the validation check. It depends how fast your service URLs are responding.
The URL can be relative like '/page/' or absolute 'https//domain/url/'.
You can use these placeholder for your URL:
{USERID}: Will be replaced with the userid if the user is loggedin or empty
{CODE}: Will be replaced with the ticket number (without the delimiters)
{CODEDISPLAY}: Will be replaced with the ticket number (WITH the delimiters)
{IP}: The IP address of the user
{LIST}: Name of the list if assigned
{LIST_DESC}: Description of the assigned list
More tags here


-URL to your service if the checked ticket is inactive.
Only triggered, if not empty.

-URL to your service if the checked ticket is valid.
Only triggered, if not empty.

-URL to your service if the checked ticket is invalid (not found).
Only triggered, if not empty.

-URL to your service if someone register to this ticket.
Only triggered, if not empty.

-URL to your service if the checked ticket is already registered to someone.
Only triggered, if not empty.

-URL to your service if the checked ticket is valid and is marked to be used the first time.
Only triggered, if not empty.

-URL to your service if the checked ticket is already marked as used and checked again.
Only triggered, if not empty.

-URL to your service if an order item is bought using a restriction code.
Only triggered, if not empty.

-URL to your service if the WooCommerce ticket data is set for this ticket number.
Only triggered, if not empty.

-URL to your service if the WooCommerce ticket is redeemed.
Only triggered, if not empty.

-URL to your service if the WooCommerce ticket is un-redeemed.
Only triggered, if not empty.

-URL to your service if the WooCommerce ticket data is removed from the ticket number.
Only triggered, if not empty.


== Woocommerce product ticket assignment ==
-Text that will be used, if you do not have premium and run out of free ticket amount. This text will be added to the WooCoomerce purchase information instead of the ticket number
If left empty, default will be 'Please contact our support for the ticket'

-Clear the ticket number if the order was deleted, canceled or refunded
If the order is deleted or the status is set to 'refund', then the WooCommerce order information is removed from the ticket number(s). If the option 'one time usage' is active, then the ticket number will be unmarked as used.

-Reuse ticket from the ticket list assigned to the woocommerce product, that are not already used by a woocommerce purchase.
If active, the system will try to use an existing ticket from the ticket list that is free. If no free code could be found, a new ticket will be created and assigned to the purchase.

-Do not print the ticket number CVV on the confirmation to the customer.
If active, the assigned CVV will not be printed on the email

-Do not print the ticket number CVV on the PDF invoice woocommerce purchase.
If active, the assigned CVV will not be printed on the PDF

-Do not put the ticket in the emails to the customer
If active, the assigned ticket number and other ticket related information will not be put in the email

-Do not print the ticket on the PDF invoice woocommerce purchase.
If active, the assigned ticket will not be printed on the PDF

-Set the ticket number formatter pattern for new sales.
If active, the a new ticket will generated using the following settings


== Display ticket number to your loggedin user ==
-Text that will be added before the ticket number(s) for the user are displayed.

-Display the prefix text always.
If active, your prefix text will be rendered always. Even if the user is not logged in or do not have any tickets assigned to her yet.

-Text or letter to be used as a seperator for ticket numbers of the user.
If the user has more than one ticket number assigned to her, then this text will be used to seperate them for display the numbers. If left empty, then it will be ', ' as a default.


== QR code ==
-URL for the QR image.
The URL should be absolute, if you like to provide the generated QR image to your customers. The image can be retrieved within the event ticket area. The ticket number detail contains a button for it.
You can use these placeholder for your URL.


== Installation ==

* WordPress 5.0 or greater
* PHP version 7.0 or greater
* MySQL version 5.0 or greater

= Installation =

1. Install the pluging using the WordPress built-in Plugin installer.
2. Activate the plugin through the 'Plugins' menu in WordPress.
3. Click on the menu "Event Tickets" and add lists.
4. Edit your product to generate a event ticket.

**For more help and your first steps, please [visit our website](https://vollstart.de/event-tickets-with-ticket-scanner/docs/)**

== Screenshots ==

1. **Ticket Details Mobile** The ticket details are also optimized for mobile devices.
2. **Ticket Details Desktop** You can define what will be shown on the ticket.
3. **Ticket PDF** Your customer can download the ticket as a PDF.
4. **Ticket scanner** Scan and redeem the tickets at the entrance on mobile and desktop devices.
5. **Ticket Badge** Print out your ticket badge with customer name on it.
6. **Options 1** Ticket options.
7. **Options 3** Created tickets backend admin area.
8. **Options 4** Ticket numbers can be pre generated if needed.
9. **Flyer example** You can also adjust your event or party flyer.
10. **Ticket example** You can adjust different areas of the PDF ticket.
11. **Product settings** You overwrite the format of the ticket number and activate the ticket sale.
12. **Options 5** ADjust the information on the flyer.

== Upgrade Notice ==
= 1.3.0 =
Attention, the translation forced bigger chunk of code to be changed.

= 1.2.0 =
To update the old sold tickets, please execute the "repair table" button within the support area. From now on we will store also the user id of the ticket purchase.

= 1.0.11 =
Default value is changed to true for the option ro reuse not used ticket numbers within a ticket list assigned to a product

= 1.0.9 =
New option to add the amount of purchased tickets per sold item on the PDF. Database updated. You can see now the redeemed ticket information within the admin area on the data table.

= 1.0.5 =
Serial code options are removed. They do not fit with the event and party tickets approach.

= 1.0.4 =
Activate in the options the new feature to attach the calendar entry (ICS file) to your purchase emails.

== Changelog ==
= 1.4.7 - 2023-05-31 =
* Download button for the Ticket Badge can be displayed on the ticket detail view for your customer
* Ticket Badge download link can be added to the purchase emails
* Attach ticket badge to the purchase emails
* Attach ticket badges as one PDF to purchase emails

= 1.4.6 - 2023-05-27 =
* Fix bug for the immediately scanning of tickets with the ticket scanner

= 1.4.5 - 2023-05-24 =
* Fix for translate press manipulation of the URLs
* Allow tracking of the IP for more occasions (premium)
* Add several areas where the expiration date is determined (premium)

= 1.4.4 - 2023-05-16 =
* You can download all tickets of an order within the order details
* New option to attach the download link for only PDF with all tickets to the purchase emails - below the order table
* New option for the heading of the download section after the order details table within the purchase order email - default "Download Tickets"
* Wrapping several WooCommerce functions to preven error message in case you deactivate your woocommerce - woocommerce is needed for this plugin
* Ticket Badge Editor allows now to use {ORDER.get_meta.YOURFIELDNAME}

= 1.4.3 - 2023-05-11 =
* New option. Allow to attach a PDF to the ticket as additional pages
* Fix expiration check for tickets without an end time - taking 23:59:59 as end time if empty
* Added ticket badge download within the ticket scanner
* New option to hide the price on the ticket. The ticket scanner will still display it
* Fix for the download option for (ICS and PDF) on the ticket detail with the compatibility mode

= 1.4.2 - 2023-05-08 =
* You can change now the ticket per name within the ticket detail view
* New Bulk operation for tickets: Remove the used marker
* New Bulk operation for tickets: Remove the redeem information
* Fix. The ticket name will not be removed if the ticket is un-redeemed

= 1.4.1 - 2023-05-04 =
* Expiration date information is not displayed, if the ticket do not expired
* Ticket Scanner button is using the ticket URL path if set within the options
* New option to control when the tickets are assign to the order items (only if premium is available)
* Fix free tickets if the order was refunded
* Fix ticket badge to allow no QR code
* Added a tag list for the ticket badge Editor

